# Final Project Report

**Project URL**: https://share.streamlit.io/cmu-ids-2022/final-project-buildbackbetterbridges/main
**Video URL**: https://drive.google.com/file/d/1L_LsIfRS4ThcK9uTLF91g3xsuwJHy4fN/view

## Abstract
Build Back Better Bridges is an interactive data science project that serves to investigate what the current status of bridge conditions is like in the state of Pennsylvania, and if the funding and resource relegated to its maintenance is appropriate. Utilizing datasets from places like the Pennsylvania Department of Transportation, the United States Census Bureau, and more, our team presents data in a story format and provides interactive visualization that helps support further inquiry and exploration. Using visualizations like choropleth maps, bar charts, and scatterplots, users are able to gain context into the insighting incident and begin to discover what could be contributing factors to the bridge conditions in Pennsylvania. It also showcases the opportunity for the creation of other datasets that can help bolster further research in this area. 

## Introduction
Early in the morning on January 28, 2022, the Fern Hollow Bridge in Pittsburgh collapsed “requiring rescuers to rappel down a ravine and form a human chain to reach a few occupants of a municipal bus that plummeted along with the span.”[1] Three years prior, a routine inspection had shown the bridge’s condition as “poor”, but no maintenance was performed to update or improve its condition. Much has been debated and discussed around the topic with President Biden even arriving later in the day in Pittsburgh to promote an infrastructure bill including over $1 billion for Pennsylvania bridge maintenance. 

Our team is interested in looking at the condition of bridges in Pennsylvania and the distribution of infrastructure spending to understand the severity of the conditions of Pennsylvania bridges and if enough funding is going toward fixing these structures that desperately need it, or if it is instead being funneled mostly into new infrastructure projects. A 2019 Curbed article [2] hypothesizes that the increased spending on road widening and new lanes can simply lead to “induced demand” where more people drive and transit issues worsen despite the appearance of progress. Instead of investing in existing infrastructure to make it safer or putting government funding toward boosting our train and bus systems, we observe that the US tends to favor new construction despite historic evidence that it may not address the core problem at hand. 

Our goal is to add agency and awareness towards infrastructure integrity in Pennsylvania and investigate the resources that are being allocated towards its maintenance. We are targeting community advocates that seek to make actionable changes within their surrounding neighborhoods. Tasks and key takeaways we plan to design include allowing users to analyze resource allocation towards bridge construction and maintenance in Pennsylvania, parse data on the structural integrity of Pennsylvania bridges, and understand the geographical and spatial representation of the data being presented. We strive to allow our audience to find insights into whether funding is a contributing factor to bridge disrepair, or if there are other elements that need to be included in the discussion.

## Related Work
Due to the Pittsburgh bridge collapse hours before President Biden’s visit, the attention given to topics of infrastructure and bridge repair has risen. Similar events, such as the tragic Miami condo collapse and the collapse of a pedestrian bridge in South Florida, have also brought national attention to the topic of maintenance and repair. 	

Information from the Pennsylvania Department of Transportation (PennDOT) [3] provided us with a good overview of the current conditions of Pennsylvania bridges. We learned that more than 25,000 of Pennsylvania’s 25,000 bridges are in poor condition, and the state’s highways and bridges needs for 2021 totaled $15 billion while the budget only allowed for less than $7 billion. We also learned that 74% of bridge and highway repair fundings came from gas taxes, 17% from vehicle fees, and 9% from the Pennsylvania General Fund. Due to the increase of electric cars and a trend toward zero gas tax revenue, funding from these current sources is also expected to decrease in the future.

Data from the American Road and Transportation Builders Association (ARTBA) [4] gave us a glimmer of hope. We learned that Pennsylvania had 4,147 bridges classified as structurally deficient in 2017, but that number decreased to 3,198 in 2021.. While these numbers show promise that Pennsylvania is headed in the right direction, it still leaves a lot of problems unresolved given that we rank second in the nation (behind Iowa) in terms of a number of structurally deficient bridges. We also learned, through ARTBA, that only 9.2% of the structurally deficient bridges are part of the Interstate Highway System, meaning that the majority of these bridges are part of the state and local route system.

In the paper, “Funding for Infrastructure Maintenance: Achieving and Sustaining a State of Good Repair”[5], the authors investigate how European cities build support for infrastructure maintenance from communities and build funding sources for repairs to be conducted. This paper was relevant to the team’s work as it is crucial to not only identify the problem of funding and repair allocation but also look for solutions to make sure problems are addressed before a dire situation arises. The paper, “Acquiring insights into infrastructure repair policy using discrete choice models”[6] investigates methodologies for infrastructure agencies to manage the repair timeline and backlog, prioritize funding and resources, and aid in decision making for public agencies handling infrastructure repair. 

Lastly, the compilation of information from the website titled, “Report Card for America’s Infrastructure”, discusses the need for bridge maintenance in depth. The report touches on how funding has to be increased if we are to address the repairs needed in the country. Our project touches on these related works and aims to build on them. Pittsburgh is the City of Bridges and recently was affected by our country’s lack of funding for infrastructure repairs, so we want to continue building on the work that’s already been done to improve this city we love and care about. 

## Methods
We first wanted to gain an overview of the current status of Pennsylvania’s bridges. The first step was to see where Pennsylvania lies in comparison to the rest of the country. Using data from ARTBA, we created two different histograms for this visualization, one for the total number of structurally deficient bridges and the other for the percent of bridges that are structurally deficient. To filter through the data, and not make the charts too overwhelming, we first cleaned the data to get rid of things like the percent symbol and thousand markers that confused Altair. We utilized the pandas python library for cleaning and preprocessing. We sorted the data in decreasing order and only took the first 5 data points. We then highlighted Pennsylvania in the midst of the data. Next, to get an overview of the conditions of bridges in Pennsylvania (i.e. poor, fair, and good), we used data provided by PennDOT, which required a lot of cleaning and manipulation since the converted CSV files had misaligned columns and data. We were then able to build side-by-side pie charts of the percentages for each condition for both bridges on the State Route System and bridges on the Local Route System and analyze the percentages both by count and by deck area calculation. Our next visualization leveraged data from ARTBA by allowing us to build a scatterplot to see the correlation (or lack thereof) between the number of daily crossings and the number of structurally deficient bridges for the different types of bridges as broken down in the ARTBA data. 

For the map section, we continued to utilize the data provided by PennDOT, which contained categories such as counties, municipalities, and street locations of the bridges provided. We aggregated the dataset, so the entries under the same county were together.  However, there were no longitude or latitude coordinates that would typically be utilized for map visualizations, so we needed to explore other ways to showcase this data. When researching other methods of implementation, we found that other ways of visualizing data geospatially are through utilizing their FIPS codes. Federal Information Processing Standard codes are numbers given to geographical areas by the federal government. By using the FIPS codes from the United States Census Bureau and adding them as a column on the PennDot dataset, we were able to effectively visualize the bridge data that we provided in a map format. Since we were utilizing Streamlit, we decided to use Plotly, because it was the most compatible. The visualization took the form of a choropleth map that showcases areas of low numbers in a lighter color, and areas with a larger number of bridges in a darker color. For this section, the user is also able to switch between categories to see how the different conditions, or other features, compare geospatially. We also added an expander that, when clicked, shows a bar chart of each county in relation to the selected category. We wanted to add this as a hidden option, to showcase an ordered and hierarchical format, while also providing a hyperbolic representation of comparing the different counties. 

For the budgeting section, we first wanted to see how much funding we would need for different types of repairs as given to us by ARTBA. We decided to use a histogram to compare and contrast the different types of repairs and also used a stacked histogram to see the total amount of funding needed. The last Altair histogram chart was utilized as a way to easily visualize differences between data sums. It has been shown that bar charts are a more digestible form of showing the differences between amounts of data for people to cognitively process. Therefore, we wanted to make lots of use of histograms and bar charts. The budgeting data required a large amount of data cleaning, as much of it was in subcategories that needed to be aggregated, and the numbers were reading as text which was making it difficult to process in Altair. Sorting into only the top 5 states funding-wise, versus displaying all 50 reduced the cognitive load on users so that they wouldn’t have to try to compare all those data points at once. Also, as we learned in class, color is a great way to make a point and we used selective coloring to show which bar in a chart was Pennsylvania specific and draw the viewer’s eye to it.

## Results

In our overview section, we are able to see Pennsylvania ranks second in the nation in terms of the number of structurally deficient bridges and fifth in the nation in terms of the percent of structurally deficient bridges. This gives viewers a sense of severity when it comes to the conditions of bridges in the state. Our pie charts then allow us to visualize that, when measured by count, 1 in 10 bridges on the State Route System are in poor condition, while 1 in 4 bridges on the Local Route System is in poor condition. When measured by deck area, these statistics go down to roughly 6% and 21%, respectively. From our scatterplot, we can conclude that the number of daily crossings does not necessarily correlate with the number of structurally deficient bridges since bridges on the urban interstate highways have by far the highest number of daily total crossings, but bridges on the rural local road need the most repairs. All in all, these visualizations allow viewers to get a sense of the conditions of bridges in the state and what kinds of bridges are most in need of help.

For the map section, users are able to get a wide variety of perspectives based on the selected category they choose. With the choropleth map visualization, users are able to see high and low concentrations of bridges, the total number of bridges,  population, and average daily traffic in each of the Pennsylvania counties. By providing these different categories, the user is able to see how their counties compare with each other and can observe potential patterns or areas of interest that they can explore further. This visualization can also be used as supporting details and can help users showcase comparisons to determine what could be contributing factors to bridge conditions in certain counties. Through the geospatial representation of the data, we can see that there are concentrations of more bridges in poor conditions in densely populated areas on the exterior of Pennsylvania like Allegany county and counties surrounding Philadephia, compared to areas in central Pennsylvania. We can also see that although Philadelphia has a larger population and average daily traffic, Alleghany and Luzerne county have a larger number of bridges in poor condition. This shows that there may be other contributing factors such as terrain or the number of rivers that may have a strong influence on the condition of Pennsylvania bridges. 

For the budgeting section of the project, we are able to see the different types of repairs and the amount of funding they need. The type of repair requiring the most work is the rehabilitation of the bridges, which means most bridges simply need to be maintained and improved as opposed to completely rebuilt and replaced. The total amount of funding required for all the different types of repairs is over 18 billion dollars. The bar chart illustrates that Pennsylvania is in the top 5 nationwide for repair funding allocation. This finding was surprising since we know Pennsylvania also has one of the highest percentages of bridges that need repair. After further investigation though, we found that this aligns with other figures that show Pennsylvania is one of the top 10 states in the US in terms of the number of bridges. This was important to highlight for end-users, because while there is more funding needed, Pennsylvania actually is allocating a very large portion of funding to repairs. This leaves us and the users with lots of direction for future research and exploration. How might the government better allocate these repair funds or collect even more? Is it a funding problem or is it perhaps a worker shortage or lack of time to complete all the repairs? Fortunately, the work of data science is never done, so there is much more room for improvement and curiosity in this space. 

## Discussion
Through this work, we hope the users and audience take away just how crucial it is to fund infrastructure repairs. In many ways, it is more difficult to fund new transportation projects such as highway widening which oftentimes just leads to induced demand. We hope that by giving users the ability to interact with data themselves and view it from the source, even people who are reluctant to pay their taxes to fund public services will realize that it affects more than what people may think about on a daily basis. As a country, many people fail to realize or consider that road function, bridge safety, and efficiency are not something that just comes naturally. Highways, roads, and bridges are all in need of regular repair and maintenance to keep people safe, and this is tedious, expensive work. Repairs are not glamorous and oftentimes it is more appealing to build new systems to try to impress constituents or ease demands. Yet, what we’ve learned from our research and data explorations is that enough is not being done to keep what we currently have as a country in good repair. 

In terms of the implementation of the code, there is a lot our team is still learning about Streamlit and Altair, and data science in general. Being able to change the ‘method of measure’ from a dropdown in the conditions overview enables users to have some customization over their views, but the team is eager to explore more interactions for end users. Giving people more agency to explore the data on their own might give them more ownership over the data, therefore leading to more buy-in as well. Although we are trying to provide an unbiased, holistic view of this data, we also do want people to feel the urgency for bridge repairs and so giving them more visuals and interactive elements could potentially aid in achieving that goal. 

The team’s main goal and contribution is to approach a human-centered problem, such as people’s safety when traveling across bridges, with data science in an effort to highlight a need. But we also strive to allow users to form their own opinions. As many of the class readings presented this semester stated, the most impactful data science projects allow users to interact with the data themselves to create a narrative in their minds of what is happening. Rather than imparting our own opinions on the data, we provided contradicting facts and figures and asked the end-user to use their discretion to decide what was truly the root cause of the bridge disrepair. By allowing users to see contradictory data points and our hypotheses on why this may be the case - such as both repair funding and a number of bridges in disrepair being in the top five nationally - we leave room for users to ask questions and come away curious. Rather than this project being exhaustive of all data points on infrastructure repairs and funding, we impart users with the desire to seek out more information and question their assumptions around what really is behind the lack of maintenance on state infrastructure. 

## Future Work

When thinking about the future, we believe that there is potential to include IoT devices that allow for real-time monitoring of bridges. Since, oftentimes, inspections are conducted once a year, this would allow for data to be collected more frequently and aid in informed decision-making. This could take the form of a dashboard for both concerned residents and city agencies that will allow for live sensor data to track bridge conditions and add help add urgency to this problem space. Additionally, this project encouraged our team to keep pushing for more open data from state and national transportation and other government agencies. While open data is being embraced more and more, there were still barriers and buried information our team needed to sift through to begin understanding where funding was going towards in Pennsylvania’s transportation budgets. 

To improve our visualizations in the future we’d hope to add more interactions where users can dig into the data themselves to better understand it and engage with our findings. There are also opportunities to combine multiple data sources together in some sections (like the budget section). If we could add interactive layers where things such as ‘funding’ and ‘number of repairs needed’ could be layered over or next to each other to see what the match-up is, people could more effectively see the connection between the two fields. Although we are showcasing how the funding doesn’t match up to the number of repairs needed, since the graphs are somewhat far apart, people may forget what they saw earlier. The message could be more potent if important information was clustered and compared adjacent to each other. 

For future researchers and data scientists, this space is ripe for exploration. The biggest challenge is cleaning and sifting through it in order to manageably visualize and interact with the different sources collected. Our team’s recommendation for those, who perhaps have more time or expertise in this area, would be to pair contrasting findings together and allow users to really dive into where these points diverge and why. Qualitative data could also be utilized to complement the quantitative data that often comes up in areas such as city and state budgets and percentages of disrepair. While the numbers tell an entire story in themselves, for some of the more contradictory or surprising findings that arose, some qualitative data such as from interviews of state agency employees, budget commissioners, civil engineers, or everyday taxpayers would be crucial to understanding the human side of why the funding doesn’t match up to the needs of Pennsylvania roads. 

## References

[1]https://apnews.com/article/joe-biden-business-pittsburgh-bridge-collapses-b91476e4d1dc1c7839bd0c39e7be186e 
[2]https://archive.curbed.com/2019/5/14/18622511/construction-highway-roads-infrastructure-week 
[3]https://www.penndot.pa.gov/about-us/media/funding/Documents/PennDOT-Pathways_By-The-Numbers.pdf 
[4] https://artbabridgereport.org/state/profile/PA 
[5]https://nap.nationalacademies.org/catalog/14540/funding-for-infrastructure-maintenance-achieving-and-sustaining-a-state-of-good-repair
[6]https://www.sciencedirect.com/science/article/pii/S0965856417314155?casa_token=kqrqKpNoIhgAAAAA:U5g4bTawBvkxHQnWmUTPYYc4bcu6QQ29pIhg0D6O2bC4vNLAHjL6FM-c-phfaQhBbO8YKuHs
[7] https://infrastructurereportcard.org/cat-item/bridges/ 

